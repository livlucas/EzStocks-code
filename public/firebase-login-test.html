<!DOCTYPE html>
<html>
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <title>Firebase testing</title>
      <script src="https://www.gstatic.com/firebasejs/4.1.3/firebase.js"></script>
    </head>

    <body>
        <button id="login" onclick="login()">login</button>
        <button id="logout" onclick="logout()">logout</button>
        <br>
        <button id="read" onclick="createUser()">create user</button>

        <script>
        //FB DATABASE - server variables to use inside Rules json
        //auth
        //data - updating
        //newData - creating
        //now - server current time
        //root - base of collections
        //${variable} - dynamic variables based on paths


            // Initialize Firebase
            var config = {
                //use your own config data here from firebase
            };
            var app = firebase.initializeApp(config);

            var auth = firebase.auth(app);

            //event auth
            auth.onAuthStateChanged(firebaseUser => {
                if (firebaseUser) console.log('logged in', firebaseUser.email);
                else console.log('logged OUT');
            });

            var email = "livia@email.com";
            var password = "@livia@";

            function login(cb) {
                auth.signInWithEmailAndPassword(email, password)
                .then(function (result) {
                    window.loginResult = result;
                    console.log(result);

                    cb && cb();
                });
            }

            function createUser(){
                auth.createUserWithEmailAndPassword(email, password)
                .then(function (result) {
                    window.userResult = result;
                    console.log(result);
                });
            };

            function logout() {
                auth.signOut();
            }

            // function readWords() {
            //     app.database().ref('/words')
            //     .once('value')
            //     .then(result => {
            //         console.log(result);
            //     });
            // }
        </script>
    </body>
</html>
